var ParallaxInterface=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,f=s||u||Function("return this")(),p=Object.prototype.toString,h=Math.max,d=Math.min,y=function(){return f.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==r}(t))return n;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var s=a.test(t);return s||c.test(t)?l(t.slice(2),s?2:8):o.test(t)?n:+t}var b=function(t,n,r){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(e);return m(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),function(t,n,r){var i,o,a,c,l,s,u=0,f=!1,p=!1,b=!0;if("function"!=typeof t)throw new TypeError(e);function g(e){var n=i,r=o;return i=o=void 0,u=e,c=t.apply(r,n)}function w(t){var e=t-s;return void 0===s||e>=n||e<0||p&&t-u>=a}function x(){var t=y();if(w(t))return O(t);l=setTimeout(x,function(t){var e=n-(t-s);return p?d(e,a-(t-u)):e}(t))}function O(t){return l=void 0,b&&i?g(t):(i=o=void 0,c)}function j(){var t=y(),e=w(t);if(i=arguments,o=this,s=t,e){if(void 0===l)return function(t){return u=t,l=setTimeout(x,n),f?g(t):c}(s);if(p)return l=setTimeout(x,n),g(s)}return void 0===l&&(l=setTimeout(x,n)),c}return n=v(n)||0,m(r)&&(f=!!r.leading,a=(p="maxWait"in r)?h(v(r.maxWait)||0,n):a,b="trailing"in r?!!r.trailing:b),j.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=s=o=l=void 0},j.flush=function(){return void 0===l?c:O(y())},j}(t,n,{leading:i,maxWait:n,trailing:o})};function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){babelHelpers.defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x=function(){function t(e){babelHelpers.classCallCheck(this,t),this.element=e,this.ParallaxInterfaces=Array.from(this.element.querySelectorAll("[data-pxi-factor]")),this.hitzoneFactor=parseFloat(this.element.dataset.pxiHitzone)||t.options.hitzoneFactor,this.wrapper=null,this.prepareElement(),this.prepareParallaxInterfaces(),this.createWrapper(),this.element.setAttribute("data-pxi","init"),t.instances.push(this),t.mouseMoveInitialized||(t.initMouseMove(),t.mouseMoveInitialized=!0)}return babelHelpers.createClass(t,[{key:"createWrapper",value:function(){var t=this.element.getBoundingClientRect();this.wrapper=document.createElement("div"),this.wrapper.setAttribute("data-pxi-wrapper",""),this.element.parentNode.insertBefore(this.wrapper,this.element),this.wrapper.appendChild(this.element),this.wrapper.style.width="".concat(t.width,"px"),this.wrapper.style.height="".concat(t.height,"px")}},{key:"prepareElement",value:function(){var t=this.element.getBoundingClientRect();this.element.style.width="".concat(t.width,"px"),this.element.style.height="".concat(t.height,"px")}},{key:"prepareParallaxInterfaces",value:function(){this.ParallaxInterfaces.forEach((function(e){var n=e.getBoundingClientRect();e.style.width="".concat(n.width,"px"),e.style.height="".concat(n.height,"px"),e.cachedFactor=parseFloat(e.dataset.pxiFactor||t.options.mouseMoveFactor)}))}}],[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.options=w(w({},t.options),e),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-pxi]").forEach((function(e){return new t(e)}))}))}},{key:"initMouseMove",value:function(){document.addEventListener("mousemove",b((function(e){t.instances.forEach((function(n){var r=n.wrapper.getBoundingClientRect(),i=Math.hypot(r.width,r.height)*n.hitzoneFactor/2,o=r.left+r.width/2,a=r.top+r.height/2;Math.hypot(e.clientX-o,e.clientY-a)<=i?requestAnimationFrame((function(){var o={x:e.clientX-r.left-r.width/2,y:e.clientY-r.top-r.height/2},a=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2)),c=1-a/i;n.ParallaxInterfaces.forEach((function(e){var n=e.cachedFactor,r=o.x*n*c,l=o.y*n*c,s=a/i*t.options.animationTime;e.style.transform="translate(".concat(r,"px, ").concat(l,"px)"),e.style.transitionDuration="".concat(s,"ms")}))})):n.ParallaxInterfaces.forEach((function(t){t.style.transitionDuration="1000ms",t.style.transform="translate(0, 0)"}))}))}),t.options.throttleTime))}}]),t}();return babelHelpers.defineProperty(x,"instances",[]),babelHelpers.defineProperty(x,"options",{throttleTime:16,hitzoneFactor:1,mouseMoveFactor:.5,animationTime:500}),x}();
//# sourceMappingURL=parallax-interface.min.js.map
