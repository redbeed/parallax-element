var ParallaxInterface=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e="Expected a function",i=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,p=c||u||Function("return this")(),h=Object.prototype.toString,f=Math.max,d=Math.min,m=function(){return p.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==n}(t))return i;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var c=o.test(t);return c||s.test(t)?l(t.slice(2),c?2:8):r.test(t)?i:+t}var g=function(t,i,n){var a=!0,r=!0;if("function"!=typeof t)throw new TypeError(e);return y(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),function(t,i,n){var a,r,o,s,l,c,u=0,p=!1,h=!1,g=!0;if("function"!=typeof t)throw new TypeError(e);function x(e){var i=a,n=r;return a=r=void 0,u=e,s=t.apply(n,i)}function w(t){var e=t-c;return void 0===c||e>=i||e<0||h&&t-u>=o}function b(){var t=m();if(w(t))return E(t);l=setTimeout(b,function(t){var e=i-(t-c);return h?d(e,o-(t-u)):e}(t))}function E(t){return l=void 0,g&&a?x(t):(a=r=void 0,s)}function M(){var t=m(),e=w(t);if(a=arguments,r=this,c=t,e){if(void 0===l)return function(t){return u=t,l=setTimeout(b,i),p?x(t):s}(c);if(h)return l=setTimeout(b,i),x(c)}return void 0===l&&(l=setTimeout(b,i)),s}return i=v(i)||0,y(n)&&(p=!!n.leading,o=(h="maxWait"in n)?f(v(n.maxWait)||0,i):o,g="trailing"in n?!!n.trailing:g),M.cancel=function(){void 0!==l&&clearTimeout(l),u=0,a=c=r=l=void 0},M.flush=function(){return void 0===l?s:E(m())},M}(t,i,{leading:a,maxWait:i,trailing:r})};class x{static instances=[];static options={throttleTime:16,hitzoneFactor:1,mouseMoveFactor:.5,animationTime:500,calculateSize:!1};static init(t={}){x.options={...x.options,...t},document.querySelectorAll("[data-pxi]").forEach((t=>new x(t)))}constructor(t){this.element=t,this.ParallaxInterfaces=Array.from(this.element.querySelectorAll("[data-pxi-factor]")),this.hitzoneFactor=parseFloat(this.element.dataset.pxiHitzone)||x.options.hitzoneFactor,this.wrapper=null,this.prepareParallaxInterfaces(),this.prepareElement(),this.createWrapper(),this.element.setAttribute("data-pxi","init"),x.instances.push(this),x.mouseMoveInitialized||(x.initMouseMove(),x.mouseMoveInitialized=!0)}createWrapper(){const t=this.element.getBoundingClientRect();this.wrapper=document.createElement("div"),this.wrapper.setAttribute("data-pxi-wrapper",""),this.element.parentNode.insertBefore(this.wrapper,this.element),this.wrapper.appendChild(this.element),this.calculateSizeEnabled()&&(this.wrapper.style.width=`${t.width}px`,this.wrapper.style.height=`${t.height}px`)}prepareElement(){if(this.calculateSizeEnabled()){const t=this.element.getBoundingClientRect();this.element.style.width=`${t.width}px`,this.element.style.height=`${t.height}px`}}prepareParallaxInterfaces(){this.ParallaxInterfaces.forEach((t=>{const e=t.getBoundingClientRect();this.calculateSizeEnabled()&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`),t.cachedFactor=parseFloat(t.dataset.pxiFactor||x.options.mouseMoveFactor)}))}calculateSizeEnabled(){return void 0!==this.element.dataset.pxiCalculateSize||x.options.calculateSize}static initMouseMove(){document.addEventListener("mousemove",g((t=>{x.instances.forEach((e=>{const i=e.wrapper.getBoundingClientRect(),n=Math.hypot(i.width,i.height)*e.hitzoneFactor/2,a=i.left+i.width/2,r=i.top+i.height/2;Math.hypot(t.clientX-a,t.clientY-r)<=n?requestAnimationFrame((()=>{const a={x:t.clientX-i.left-i.width/2,y:t.clientY-i.top-i.height/2},r=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2)),o=1-r/n;e.ParallaxInterfaces.forEach((t=>{const e=t.cachedFactor,i=a.x*e*o,s=a.y*e*o,l=r/n*x.options.animationTime;t.style.transform=`translate(${i}px, ${s}px)`,t.style.transitionDuration=`${l}ms`}))})):e.ParallaxInterfaces.forEach((t=>{t.style.transitionDuration="1000ms",t.style.transform="translate(0, 0)"}))}))}),x.options.throttleTime))}}return x}();
//# sourceMappingURL=parallax-interface.min.js.map
